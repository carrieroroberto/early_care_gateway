@startuml

actor Doctor
participant "UI" as UI
participant "Gateway" as Gateway
participant "Authentication" as AuthService
participant "Audit" as AuditService
database "Doctors DB" as SQLDB
database "Audit DB" as AuditDB

Doctor -> UI : Insert email, password
UI -> Gateway : Send email, password
Gateway -> AuthService : Verify credentials
AuthService -> SQLDB : Query email and hash password

alt Correct credentials
    AuthService -> AuditService : Log login event
    AuditService -> AuditDB : Write event log
    AuthService --> Gateway : Return JWT
    Gateway --> UI : Send JWT
else Incorrect credentials
    AuthService --> Gateway : Return error
    Gateway --> UI : Send error
end

UI --> Doctor : Show success/error message

@enduml